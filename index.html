<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maple Bot Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=DM+Sans:400,700&display=swap">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navigation Bar -->
    <header class="navbar">
        <div class="container">
            <img src="Maple_logo.webp" alt="Maple Logo" class="logo">
            <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/dashboard.html">Dashboard</a></li>
                <li><a href="/features.html">Features</a></li>
                <li><a href="https://discord.gg/Zyw8gGef">Support</a></li>
                <li id="login-btn"><a href="/.netlify/functions/auth-discord">Login</a></li>
                <li id="profile-container" style="display: none;">
                    <img id="profile-pic" src="" class="profile-img">
                    <button id="logout-btn">Logout</button>
                </li>
            </ul>
        </nav>

        </div>
    </header>
<div class="herobg">
</div>
<!-- Server Count Section with Welcome Text -->
<section class="status" id="status">
    <div class="container">
        <h1>Welcome to Maple Bot Dashboard</h1>
        <p>Your ultimate bot management platform.</p>
        <h2>Total Servers</h2>
        <div class="status-card">
            <h3>üåç Servers</h3>
            <p id="server-count">Loading...</p>
        </div>
    </div>
</section>

    <!-- Features Section -->
    <section class="features" id="features">
        <div class="container">
            <h2>Features</h2>
            <div class="feature-grid">
                <div class="feature-item">
                    <i class="fa fa-cogs"></i>
                    <h3>Easy Management</h3>
                    <p>Seamlessly control and monitor your bots with a few clicks.</p>
                </div>
                <div class="feature-item">
                    <i class="fa fa-lock"></i>
                    <h3>Secure</h3>
                    <p>We prioritize your privacy and security above all else.</p>
                </div>
                <div class="feature-item">
                    <i class="fa fa-line-chart"></i>
                    <h3>Detailed Analytics</h3>
                    <p>Track performance metrics to optimize your bot usage.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>¬© 2025 Maple Bot Dashboard. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Script to Fetch and Display Server Count
        document.addEventListener("DOMContentLoaded", () => {
            const fetchServerCount = async () => {
                try {
                    console.log("Fetching server count...");
                    const response = await fetch("/.netlify/functions/getServerCount");
                    if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
                    const data = await response.json();
                    document.getElementById("server-count").textContent = `${data.server_count} Servers`;
                } catch (error) {
                    console.error("Error fetching server count:", error);
                    document.getElementById("server-count").textContent = "Error: Could not load server count";
                }
            };

            fetchServerCount();
        });
    </script>
</body>
</html>
